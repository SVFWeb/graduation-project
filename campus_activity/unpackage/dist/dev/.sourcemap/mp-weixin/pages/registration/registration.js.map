{"version":3,"file":"registration.js","sources":["pages/registration/registration.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"registration-container\">\r\n\t\t<view class=\"registration-header\">\r\n\t\t\t<text class=\"title\">创建账号</text>\r\n\t\t\t<text class=\"subtitle\">注册新用户</text>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"registration-form\">\r\n\t\t\t<uni-forms ref=\"form\" :rules=\"rules\" :modelValue=\"formData\" label-position=\"top\">\r\n\t\t\t\t<uni-forms-item label=\"账号\" name=\"username\" required>\r\n\t\t\t\t\t<input class=\"input\" type=\"text\" v-model=\"formData.username\" placeholder=\"请输入账号\" maxlength=\"20\"\r\n\t\t\t\t\t\t@input=\"onInput('username', $event)\" />\r\n\t\t\t\t</uni-forms-item>\r\n\r\n\t\t\t\t<uni-forms-item label=\"密码\" name=\"password\" required>\r\n\t\t\t\t\t<input class=\"input\" type=\"password\" v-model=\"formData.password\" placeholder=\"请输入密码（至少6位）\"\r\n\t\t\t\t\t\tmaxlength=\"20\" @input=\"onInput('password', $event)\" />\r\n\t\t\t\t</uni-forms-item>\r\n\r\n\t\t\t\t<uni-forms-item label=\"确认密码\" name=\"confirmPassword\" required>\r\n\t\t\t\t\t<input class=\"input\" type=\"password\" v-model=\"formData.confirmPassword\" placeholder=\"请再次输入密码\"\r\n\t\t\t\t\t\tmaxlength=\"20\" @input=\"onInput('confirmPassword', $event)\" />\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t</uni-forms>\r\n\r\n\t\t\t<button class=\"register-btn\" @click=\"handleRegister\">注册</button>\r\n\r\n\t\t\t<view class=\"link-section\">\r\n\t\t\t\t<text class=\"link-text\" @click=\"()=>uni.redirectTo({\r\n\t\t\turl:'/pages/login/login'\r\n\t\t})\">已有账号？立即登录</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\treactive\r\n\t} from 'vue'\r\n\r\n\tconst form = ref(null)\r\n\tconst formData = reactive({\r\n\t\tusername: '',\r\n\t\tpassword: '',\r\n\t\tconfirmPassword: ''\r\n\t})\r\n\r\n\tconst rules = {\r\n\t\tusername: {\r\n\t\t\trules: [{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\terrorMessage: '请输入账号'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tminLength: 3,\r\n\t\t\t\t\terrorMessage: '账号至少3位'\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tpassword: {\r\n\t\t\trules: [{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\terrorMessage: '请输入密码'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tminLength: 6,\r\n\t\t\t\t\terrorMessage: '密码至少6位'\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tconfirmPassword: {\r\n\t\t\trules: [{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\terrorMessage: '请再次输入密码'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalidateFunction: (rule, value, data, callback) => {\r\n\t\t\t\t\t\tif (value !== formData.password) {\r\n\t\t\t\t\t\t\tcallback('两次密码不一致')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n\r\n\tconst onInput = (name, e) => {\r\n\t\tconst value = e.detail ? e.detail.value : e.target.value\r\n\t\tformData[name] = value\r\n\t\tif (form.value) {\r\n\t\t\tform.value.setValue(name, value)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleRegister = async () => {\r\n\t\ttry {\r\n\t\t\tawait form.value.validate()\r\n\r\n\t\t\t// 标记为未完善个人信息\r\n\t\t\tuni.setStorageSync('profileCompleted', false)\r\n\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '注册成功',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\r\n\r\n\t\t\t// 注册成功后跳转到个人信息完善页面\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: '/pages/userInfo/userInfo'\r\n\t\t\t\t})\r\n\t\t\t}, 1500)\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('表单校验失败', e)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.registration-container {\r\n\t\tmin-height: 100vh;\r\n\t\tbackground: linear-gradient(180deg, #e6f4ff 0%, #f0f8ff 100%);\r\n\t\tpadding: 80rpx 60rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.registration-header {\r\n\t\ttext-align: center;\r\n\t\tmargin: 100rpx 0;\r\n\r\n\t\t.title {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 56rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #1890ff;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\r\n\t\t.subtitle {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #409eff;\r\n\t\t}\r\n\t}\r\n\r\n\t.registration-form {\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 60rpx 40rpx;\r\n\t\tbox-shadow: 0 4rpx 20rpx rgba(24, 144, 255, 0.15);\r\n\t}\r\n\r\n\t.input {\r\n\t\twidth: 100%;\r\n\t\theight: 88rpx;\r\n\t\tbackground: #fafafa;\r\n\t\tborder-radius: 8rpx;\r\n\t\tpadding: 0 24rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder: 1rpx solid #d9ecff;\r\n\r\n\t\t&::placeholder {\r\n\t\t\tcolor: #999999;\r\n\t\t}\r\n\t}\r\n\r\n\t.register-btn {\r\n\t\twidth: 100%;\r\n\t\theight: 88rpx;\r\n\t\tbackground: #1890ff;\r\n\t\tborder-radius: 8rpx;\r\n\t\tcolor: #ffffff;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 500;\r\n\t\tmargin-top: 40rpx;\r\n\t\tborder: none;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\r\n\t\t&::after {\r\n\t\t\tborder: none;\r\n\t\t}\r\n\r\n\t\t&:active {\r\n\t\t\topacity: 0.8;\r\n\t\t\tbackground: #40a9ff;\r\n\t\t}\r\n\t}\r\n\r\n\t.link-section {\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 40rpx;\r\n\r\n\t\t.link-text {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #1890ff;\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/House/Desktop/graduation-project/campus_activity/pages/registration/registration.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","reactive","uni"],"mappings":";;;;;;;;;;;;;;;AA0CC,UAAM,OAAOA,cAAG,IAAC,IAAI;AACrB,UAAM,WAAWC,cAAAA,SAAS;AAAA,MACzB,UAAU;AAAA,MACV,UAAU;AAAA,MACV,iBAAiB;AAAA,IACnB,CAAE;AAED,UAAM,QAAQ;AAAA,MACb,UAAU;AAAA,QACT,OAAO;AAAA,UAAC;AAAA,YACN,UAAU;AAAA,YACV,cAAc;AAAA,UACd;AAAA,UACD;AAAA,YACC,WAAW;AAAA,YACX,cAAc;AAAA,UACd;AAAA,QACD;AAAA,MACD;AAAA,MACD,UAAU;AAAA,QACT,OAAO;AAAA,UAAC;AAAA,YACN,UAAU;AAAA,YACV,cAAc;AAAA,UACd;AAAA,UACD;AAAA,YACC,WAAW;AAAA,YACX,cAAc;AAAA,UACd;AAAA,QACD;AAAA,MACD;AAAA,MACD,iBAAiB;AAAA,QAChB,OAAO;AAAA,UAAC;AAAA,YACN,UAAU;AAAA,YACV,cAAc;AAAA,UACd;AAAA,UACD;AAAA,YACC,kBAAkB,CAAC,MAAM,OAAO,MAAM,aAAa;AAClD,kBAAI,UAAU,SAAS,UAAU;AAChC,yBAAS,SAAS;AAAA,cAClB;AACD,qBAAO;AAAA,YACP;AAAA,UACD;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAED,UAAM,UAAU,CAAC,MAAM,MAAM;AAC5B,YAAM,QAAQ,EAAE,SAAS,EAAE,OAAO,QAAQ,EAAE,OAAO;AACnD,eAAS,IAAI,IAAI;AACjB,UAAI,KAAK,OAAO;AACf,aAAK,MAAM,SAAS,MAAM,KAAK;AAAA,MAC/B;AAAA,IACD;AAED,UAAM,iBAAiB,YAAY;AAClC,UAAI;AACH,cAAM,KAAK,MAAM,SAAU;AAG3BC,4BAAI,eAAe,oBAAoB,KAAK;AAE5CA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AAGD,mBAAW,MAAM;AAChBA,wBAAAA,MAAI,WAAW;AAAA,YACd,KAAK;AAAA,UACV,CAAK;AAAA,QACD,GAAE,IAAI;AAAA,MACP,SAAQ,GAAG;AACXA,sBAAAA,MAAY,MAAA,OAAA,8CAAA,UAAU,CAAC;AAAA,MACvB;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrHF,GAAG,WAAW,eAAe;"}