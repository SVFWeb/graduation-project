{"version":3,"file":"userInfo.js","sources":["pages/user/userInfo/userInfo.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci91c2VySW5mby91c2VySW5mby52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"page container\">\r\n\t\t<!-- 头像区域 -->\r\n\t\t<view class=\"avatar-section\">\r\n\t\t\t<view class=\"avatar-wrapper\">\r\n\t\t\t\t<image :src=\"userAvatar\" mode=\"aspectFill\" class=\"avatar\" @click=\"upload\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 信息列表 -->\r\n\t\t<uni-list class=\"info-card\">\r\n\t\t\t<uni-list-item title=\"姓名\" clickable :right-text=\"userInfo.realName\" class=\"info-item\" @click=\"editField('realName', '姓名', userInfo.realName)\" />\r\n\t\t\t<uni-list-item title=\"性别\" clickable :right-text=\"userInfo.gender===1?'男':'女'\" class=\"info-item\" @click=\"editGender\" />\r\n\t\t\t<view class=\"info-item-wrapper\">\r\n\t\t\t\t<uni-list-item title=\"学校\" :right-text=\"userInfo.schoolName\" class=\"info-item\" />\r\n\t\t\t\t<picker \r\n\t\t\t\t\tmode=\"multiSelector\" \r\n\t\t\t\t\t:range=\"multiArray\" \r\n\t\t\t\t\t:value=\"multiIndex\" \r\n\t\t\t\t\t@change=\"onPickerChange\"\r\n\t\t\t\t\t@columnchange=\"onPickerColumnChange\"\r\n\t\t\t\t\tclass=\"overlay-picker\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"picker-overlay\"></view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-item-wrapper\">\r\n\t\t\t\t<uni-list-item title=\"学院\" :right-text=\"userInfo.collegeName\" class=\"info-item\" />\r\n\t\t\t\t<picker \r\n\t\t\t\t\tmode=\"multiSelector\" \r\n\t\t\t\t\t:range=\"multiArray\" \r\n\t\t\t\t\t:value=\"multiIndex\" \r\n\t\t\t\t\t@change=\"onPickerChange\"\r\n\t\t\t\t\t@columnchange=\"onPickerColumnChange\"\r\n\t\t\t\t\tclass=\"overlay-picker\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"picker-overlay\"></view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-item-wrapper\">\r\n\t\t\t\t<uni-list-item title=\"班级\" :right-text=\"userInfo.className\" class=\"info-item\" />\r\n\t\t\t\t<picker \r\n\t\t\t\t\tmode=\"multiSelector\" \r\n\t\t\t\t\t:range=\"multiArray\" \r\n\t\t\t\t\t:value=\"multiIndex\" \r\n\t\t\t\t\t@change=\"onPickerChange\"\r\n\t\t\t\t\t@columnchange=\"onPickerColumnChange\"\r\n\t\t\t\t\tclass=\"overlay-picker\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"picker-overlay\"></view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t</uni-list>\r\n\r\n\t\t<uni-list class=\"info-card contact-card\">\r\n\t\t\t<uni-list-item title=\"密码\" clickable :right-text=\"userInfo.password ? '******' : ''\" class=\"info-item\" @click=\"editField('password', '密码', '', true)\" />\r\n\t\t\t<uni-list-item title=\"手机号\" clickable :right-text=\"userInfo.phone\" class=\"info-item\" @click=\"editField('phone', '手机号', userInfo.phone)\" />\r\n\t\t\t<uni-list-item title=\"邮箱\" clickable :right-text=\"userInfo.email\" class=\"info-item\" @click=\"editField('email', '邮箱', userInfo.email)\" />\r\n\t\t</uni-list>\r\n\r\n\t\t<!-- 优化后的保存按钮 -->\r\n\t\t<view class=\"save-button-container\">\r\n\t\t\t<button class=\"save-btn\" @click=\"saveChanges\">\r\n\t\t\t\t<text class=\"btn-text\">保存修改</text>\r\n\t\t\t</button>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tcomputed,\r\n\t\tonMounted\r\n\t} from 'vue'\r\n\timport convertCloudPath from '@/utils/convertCloudPath'\r\n\timport {\r\n\t\tapiImproveUserInfo\r\n\t} from '@/api/user/index.js'\r\n\timport {\r\n\t\tapiGetSchoolInfoTree\r\n\t} from '@/api/school/index.js'\r\n\r\n\tconst userInfo = ref(uni.getStorageSync('userInfo'))\r\n\tconst userAvatar = ref(userInfo.value.avatarUrl)\r\n\tconst filesName = ref()\r\n\tconst schoolData = ref([])\r\n\tconst multiIndex = ref([0, 0, 0])\r\n\r\n\t// 构建三级联动的数组\r\n\tconst multiArray = computed(() => {\r\n\t\tif (!schoolData.value || schoolData.value.length === 0) {\r\n\t\t\treturn [[], [], []]\r\n\t\t}\r\n\t\tconst schools = schoolData.value.map(item => item.name)\r\n\t\tconst colleges = (schoolData.value[multiIndex.value[0]]?.colleges || []).map(item => item.name)\r\n\t\tconst classes = (schoolData.value[multiIndex.value[0]]?.colleges?.[multiIndex.value[1]]?.classes || []).map(item => item.name)\r\n\t\treturn [schools, colleges, classes]\r\n\t})\r\n\r\n\t// 初始化学校信息索引\r\n\tconst initMultiIndex = () => {\r\n\t\tif (userInfo.value.schoolName && userInfo.value.collegeName && userInfo.value.className && schoolData.value.length > 0) {\r\n\t\t\tconst schoolIndex = schoolData.value.findIndex(school => school.name === userInfo.value.schoolName)\r\n\t\t\tif (schoolIndex !== -1) {\r\n\t\t\t\tconst colleges = schoolData.value[schoolIndex].colleges || []\r\n\t\t\t\tconst collegeIndex = colleges.findIndex(college => college.name === userInfo.value.collegeName)\r\n\t\t\t\tif (collegeIndex !== -1) {\r\n\t\t\t\t\tconst classes = colleges[collegeIndex].classes || []\r\n\t\t\t\t\tconst classIndex = classes.findIndex(cls => cls.name === userInfo.value.className)\r\n\t\t\t\t\tif (classIndex !== -1) {\r\n\t\t\t\t\t\tmultiIndex.value = [schoolIndex, collegeIndex, classIndex]\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tmultiIndex.value = [0, 0, 0]\r\n\t}\r\n\r\n\t// 获取学校信息树\r\n\tasync function getSchoolInfoTree() {\r\n\t\ttry {\r\n\t\t\tlet res = await apiGetSchoolInfoTree()\r\n\t\t\tschoolData.value = res.data.items || []\r\n\t\t\tinitMultiIndex()\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error('获取学校信息失败', e)\r\n\t\t}\r\n\t}\r\n\r\n\tonMounted(() => {\r\n\t\tgetSchoolInfoTree()\r\n\t})\r\n\r\n\tfunction upload() {\r\n\t\tuni.chooseImage({\r\n\t\t\tcount: 1,\r\n\t\t\tsuccess(e) {\r\n\t\t\t\tuserAvatar.value = e.tempFilePaths[0]\r\n\t\t\t\tfilesName.value = e.tempFiles[0].name\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 编辑文本字段（姓名、手机号、邮箱、密码）\r\n\tfunction editField(field, label, currentValue, isPassword = false) {\r\n\t\tuni.showModal({\r\n\t\t\ttitle: `编辑${label}`,\r\n\t\t\teditable: true,\r\n\t\t\tplaceholderText: `请输入${label}`,\r\n\t\t\tcontent: currentValue,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.confirm && res.content !== undefined) {\r\n\t\t\t\t\tconst newValue = res.content.trim()\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 验证手机号\r\n\t\t\t\t\tif (field === 'phone' && newValue && !/^1[3-9]\\d{9}$/.test(newValue)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '手机号格式不正确',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 验证邮箱\r\n\t\t\t\t\tif (field === 'email' && newValue && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(newValue)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '邮箱格式不正确',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 验证姓名\r\n\t\t\t\t\tif (field === 'realName' && !newValue) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '姓名不能为空',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tuserInfo.value[field] = newValue\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '修改成功',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 编辑性别\r\n\tfunction editGender() {\r\n\t\tuni.showActionSheet({\r\n\t\t\titemList: ['男', '女'],\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tuserInfo.value.gender = res.tapIndex === 0 ? 1 : 0\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '修改成功',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\r\n\t// picker 选择变化\r\n\tfunction onPickerChange(e) {\r\n\t\tconst values = e.detail.value\r\n\t\tmultiIndex.value = values\r\n\r\n\t\tconst schoolIndex = values[0]\r\n\t\tconst collegeIndex = values[1]\r\n\t\tconst classIndex = values[2]\r\n\r\n\t\tconst school = schoolData.value[schoolIndex]\r\n\t\tif (school) {\r\n\t\t\tuserInfo.value.schoolName = school.name\r\n\t\t\tconst college = (school.colleges || [])[collegeIndex]\r\n\t\t\tif (college) {\r\n\t\t\t\tuserInfo.value.collegeName = college.name\r\n\t\t\t\tconst cls = (college.classes || [])[classIndex]\r\n\t\t\t\tif (cls) {\r\n\t\t\t\t\tuserInfo.value.className = cls.name\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuserInfo.value.className = ''\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuserInfo.value.collegeName = ''\r\n\t\t\t\tuserInfo.value.className = ''\r\n\t\t\t}\r\n\t\t}\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '修改成功',\r\n\t\t\ticon: 'success'\r\n\t\t})\r\n\t}\r\n\r\n\t// picker 列变化（联动处理）\r\n\tfunction onPickerColumnChange(e) {\r\n\t\tconst column = e.detail.column\r\n\t\tconst value = e.detail.value\r\n\r\n\t\t// 更新当前列的索引\r\n\t\tconst newIndex = [...multiIndex.value]\r\n\t\tnewIndex[column] = value\r\n\r\n\t\t// 如果改变了学校，重置学院和班级\r\n\t\tif (column === 0) {\r\n\t\t\tnewIndex[1] = 0\r\n\t\t\tnewIndex[2] = 0\r\n\t\t}\r\n\t\t// 如果改变了学院，重置班级\r\n\t\telse if (column === 1) {\r\n\t\t\tnewIndex[2] = 0\r\n\t\t}\r\n\r\n\t\t// 避免越界\r\n\t\tconst schools = schoolData.value || []\r\n\t\tif (!schools[newIndex[0]] || !(schools[newIndex[0]].colleges || []).length) {\r\n\t\t\tnewIndex[1] = 0\r\n\t\t\tnewIndex[2] = 0\r\n\t\t} else {\r\n\t\t\tconst colleges = schools[newIndex[0]].colleges || []\r\n\t\t\tif (!colleges[newIndex[1]] || !(colleges[newIndex[1]].classes || []).length) {\r\n\t\t\t\tnewIndex[2] = 0\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmultiIndex.value = newIndex\r\n\t}\r\n\r\n\tasync function saveChanges() {\r\n\t\t// 验证必填字段\r\n\t\tif (!userInfo.value.realName) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请输入姓名',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '保存中...'\r\n\t\t})\r\n\r\n\t\ttry {\r\n\t\t\t// 如果有新头像，先上传头像\r\n\t\t\tif (filesName.value) {\r\n\t\t\t\tawait new Promise((resolve, reject) => {\r\n\t\t\t\t\tuniCloud.uploadFile({\r\n\t\t\t\t\t\tfilePath: userAvatar.value,\r\n\t\t\t\t\t\tcloudPath: `avatar/${new Date().getTime()}_${filesName.value}`,\r\n\t\t\t\t\t\tfileType: 'image',\r\n\t\t\t\t\t\tsuccess: async (e) => {\r\n\t\t\t\t\t\t\tlet filePath = convertCloudPath(e.fileID)\r\n\t\t\t\t\t\t\tuserInfo.value.avatarUrl = filePath\r\n\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: reject\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t// 保存用户信息\r\n\t\t\tlet res = await apiImproveUserInfo(userInfo.value.id, userInfo.value)\r\n\t\t\tuni.hideLoading()\r\n\t\t\t\r\n\t\t\tif (res.code === 200) {\r\n\t\t\t\tuni.setStorageSync('userInfo', res.data.user)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '保存成功',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t})\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\turl: '/pages/user/user'\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1500)\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: res.message || '保存失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tuni.hideLoading()\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '保存失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\tconsole.error('保存失败', e)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t// 定义主色调变量\r\n\t$primary-color: #FCB857;\r\n\t$primary-light: #FFE6B7;\r\n\t$primary-dark: #E6A33D;\r\n\t$bg-color: #F8F9FA;\r\n\t$text-primary: #333333;\r\n\t$text-secondary: #666666;\r\n\t$text-light: #999999;\r\n\t$border-color: #F0F0F0;\r\n\t$white: #FFFFFF;\r\n\t$shadow-light: rgba(0, 0, 0, 0.08);\r\n\t$shadow-medium: rgba(0, 0, 0, 0.12);\r\n\r\n\t.page {\r\n\t\tbackground-color: $bg-color;\r\n\t\tpadding: 0;\r\n\t}\r\n\r\n\t// 头像区域\r\n\t.avatar-section {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tpadding: 60rpx 0 40rpx;\r\n\t\tbackground: linear-gradient(135deg, #FCB857 0%, #FF9800 100%);\r\n\t\tmargin-bottom: 30rpx;\r\n\t\toverflow: hidden;\r\n\r\n\t\t.avatar-bg {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\topacity: 0.5;\r\n\t\t}\r\n\r\n\t\t.avatar-wrapper {\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t\tz-index: 1;\r\n\r\n\t\t\t.avatar {\r\n\t\t\t\tmargin-left: -300rpx;\r\n\t\t\t\twidth: 180rpx;\r\n\t\t\t\theight: 180rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tbox-shadow: 0 12rpx 40rpx rgba(0, 0, 0, 0.15);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.user-name {\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: $white;\r\n\t\t\tletter-spacing: 1rpx;\r\n\t\t\ttext-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.1);\r\n\t\t\tz-index: 1;\r\n\t\t}\r\n\t}\r\n\r\n\t// 信息卡片\r\n\t.info-card {\r\n\t\tbackground: $white;\r\n\t\tborder-radius: 20rpx;\r\n\t\toverflow: hidden;\r\n\t\tmargin: 0 30rpx 30rpx;\r\n\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.04);\r\n\t\tborder: 1rpx solid $border-color;\r\n\t\ttransition: all 0.25s ease;\r\n\r\n\t\t:deep(.uni-list-item) {\r\n\t\t\tpadding: 30rpx 32rpx;\r\n\t\t\tborder-bottom: 1rpx solid $border-color;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t&:not(:last-child):after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 32rpx;\r\n\t\t\t\tright: 32rpx;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\theight: 1rpx;\r\n\t\t\t\tbackground: $border-color;\r\n\t\t\t}\r\n\r\n\t\t\t.uni-list-item__container {\r\n\t\t\t\t.uni-list-item__content {\r\n\t\t\t\t\t.uni-list-item__content-title {\r\n\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\tcolor: $text-primary;\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tletter-spacing: 1rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.uni-list-item__extra {\r\n\t\t\t\t\t.uni-list-item__extra-text {\r\n\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\tcolor: $text-secondary;\r\n\t\t\t\t\t\tmax-width: 400rpx;\r\n\t\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.contact-card {\r\n\t\tmargin-bottom: 60rpx;\r\n\t}\r\n\r\n\t// 保存按钮容器\r\n\t.save-button-container {\r\n\t\tpadding: 20rpx 30rpx 60rpx;\r\n\t\tbackground: linear-gradient(to top, $bg-color 70%, transparent);\r\n\t\tposition: sticky;\r\n\t\tbottom: 0;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t// 保存按钮样式\r\n\t.save-btn {\r\n\t\tbackground: linear-gradient(135deg, $primary-color 0%, $primary-dark 100%);\r\n\t\tborder: none;\r\n\t\tborder-radius: 50rpx;\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\tfont-size: 34rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: $white;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 8rpx 30rpx rgba(252, 184, 87, 0.3);\r\n\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tgap: 16rpx;\r\n\r\n\r\n\t\t.btn-text {\r\n\t\t\tposition: relative;\r\n\t\t\tz-index: 1;\r\n\t\t\tletter-spacing: 2rpx;\r\n\t\t\ttransition: transform 0.3s ease;\r\n\t\t}\r\n\t}\r\n\r\n\t// 信息项包装器（用于覆盖 picker）\r\n\t.info-item-wrapper {\r\n\t\tposition: relative;\r\n\r\n\t\t.overlay-picker {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tz-index: 10;\r\n\r\n\t\t\t.picker-overlay {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/House/Desktop/graduation-project/campus_activity/pages/user/userInfo/userInfo.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","computed","apiGetSchoolInfoTree","onMounted","uniCloud","convertCloudPath","apiImproveUserInfo"],"mappings":"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"}