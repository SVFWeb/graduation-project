{"version":3,"file":"myClub.js","sources":["pages/user/myClub/myClub.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9teUNsdWIvbXlDbHViLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"my-club container\">\r\n\t\t<view class=\"my-club_seach\">\r\n\t\t\t<com-search v-model:value=\"searchData.keyword\" @click=\"onSearch\"></com-search>\r\n\r\n\t\t</view>\r\n\t\t<view class=\"my-club_btn\">\r\n\t\t\t<view class=\"btn\" :class=\"{ active: item.value===searchData.type}\" v-for=\"item in btnList\" :key=\"item.value\"\r\n\t\t\t\t@click=\"onChangeActive(item)\">\r\n\t\t\t\t{{ item.name }}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"my-club_container\">\r\n\t\t\t<uni-list>\r\n\t\t\t\t<uni-list-item clickable @click=\"uni.navigateTo({\r\n\t\t\t\t\turl:`/pages/clubList/clubDetails/clubDetails?info=${encodeURIComponent(JSON.stringify(item))}`\r\n\t\t\t\t})\" style=\"height: 170rpx;\" v-for=\"item in clubList\" :key=\"item.id\" :title=\"item.name\" :note=\"item.tags\"\r\n\t\t\t\t\t:thumb=\"item.iconUrl\" thumb-size=\"lg\" :rightText=\"String(item.memberCount)\">\r\n\t\t\t\t</uni-list-item>\r\n\t\t\t</uni-list>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue';\r\n\timport {\r\n\t\tonLoad\r\n\t} from '@dcloudio/uni-app'\r\n\timport comSearchVue from '@/components/com-search/com-search.vue';\r\n\timport {\r\n\t\tapiQueryJoinClubList\r\n\t} from '@/api/club/index.js'\r\n\t\r\n\r\n\tconst btnList = [{\r\n\t\t\tname: '加入的',\r\n\t\t\tvalue: 'join'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: '管理的',\r\n\t\t\tvalue: 'management'\r\n\t\t}\r\n\t]\r\n\tconst userId = ref('')\r\n\tconst clubList = ref([])\r\n\tconst searchData = ref({\r\n\t\tkeyword: '',\r\n\t\ttype: 'join',\r\n\t\tcurrentPage: '1',\r\n\t\tpageSize: '10'\r\n\t})\r\n\r\n\tfunction onChangeActive(item) {\r\n\t\tsearchData.value.type = item.value\r\n\t\tgetClubList()\r\n\t}\r\n\r\n\tasync function getClubList() {\r\n\t\tlet {\r\n\t\t\tdata\r\n\t\t} = await apiQueryJoinClubList({\r\n\t\t\tuserId: userId.value,\r\n\t\t\t...searchData.value\r\n\t\t})\r\n\t\tif (searchData.value.currentPage == data.page.currentPage && searchData.value.pageSize == data.page.pageSize) {\r\n\t\t\tclubList.value = data.page.records\r\n\t\t} else {\r\n\t\t\tclubList.value = [...clubList.value, ...data.page.records]\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onSearch() {\r\n\t\tgetClubList()\r\n\t}\r\n\r\n\tonLoad(async (e) => {\r\n\t\tuserId.value = e.id\r\n\t\tgetClubList()\r\n\t})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.my-club {\r\n\t\t.my-club_seach {\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t}\r\n\r\n\t\t.my-club_btn {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex: 1;\r\n\t\t\tgap: 20rpx;\r\n\t\t\toverflow-x: auto;\r\n\t\t\tpadding-bottom: 30rpx;\r\n\t\t\tscrollbar-width: none;\r\n\r\n\t\t\t.btn {\r\n\t\t\t\tpadding: 0 32rpx;\r\n\t\t\t\theight: 64rpx;\r\n\t\t\t\tmin-width: 120rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tborder: 2rpx solid #e0e0e0;\r\n\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tbackground: #ffffff;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t}\r\n\r\n\t\t\t.active {\r\n\t\t\t\tbackground: linear-gradient(135deg,\r\n\t\t\t\t\t\tlighten($uni-topic-color, 5%) 0%,\r\n\t\t\t\t\t\t$uni-topic-color 100%);\r\n\t\t\t\tcolor: #ffffff;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tbox-shadow: 0 6rpx 20rpx rgba($uni-topic-color, 0.25);\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.my-club_container {}\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/House/Desktop/graduation-project/campus_activity/pages/user/myClub/myClub.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","apiQueryJoinClubList","onLoad"],"mappings":";;;;;;;;;;;;;;;;;;AAqCC,UAAM,UAAU;AAAA,MAAC;AAAA,QACf,MAAM;AAAA,QACN,OAAO;AAAA,MACP;AAAA,MACD;AAAA,QACC,MAAM;AAAA,QACN,OAAO;AAAA,MACP;AAAA,IACD;AACD,UAAM,SAASA,cAAG,IAAC,EAAE;AACrB,UAAM,WAAWA,cAAG,IAAC,EAAE;AACvB,UAAM,aAAaA,cAAAA,IAAI;AAAA,MACtB,SAAS;AAAA,MACT,MAAM;AAAA,MACN,aAAa;AAAA,MACb,UAAU;AAAA,IACZ,CAAE;AAED,aAAS,eAAe,MAAM;AAC7B,iBAAW,MAAM,OAAO,KAAK;AAC7B,kBAAa;AAAA,IACb;AAED,mBAAe,cAAc;AAC5B,UAAI;AAAA,QACH;AAAA,MACA,IAAG,MAAMC,eAAAA,qBAAqB;AAAA,QAC9B,QAAQ,OAAO;AAAA,QACf,GAAG,WAAW;AAAA,MACjB,CAAG;AACD,UAAI,WAAW,MAAM,eAAe,KAAK,KAAK,eAAe,WAAW,MAAM,YAAY,KAAK,KAAK,UAAU;AAC7G,iBAAS,QAAQ,KAAK,KAAK;AAAA,MAC9B,OAAS;AACN,iBAAS,QAAQ,CAAC,GAAG,SAAS,OAAO,GAAG,KAAK,KAAK,OAAO;AAAA,MACzD;AAAA,IACD;AAED,aAAS,WAAW;AACnB,kBAAa;AAAA,IACb;AAEDC,kBAAM,OAAC,OAAO,MAAM;AACnB,aAAO,QAAQ,EAAE;AACjB,kBAAa;AAAA,IACf,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChFF,GAAG,WAAW,eAAe;"}