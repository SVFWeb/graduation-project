{"version":3,"file":"clubReview.js","sources":["pages/user/clubReview/clubReview.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9jbHViUmV2aWV3L2NsdWJSZXZpZXcudnVl"],"sourcesContent":["<template>\n\t<view class=\"club-review container\">\n\t\t<view v-for=\"(item, index) in activityList\" :key=\"item.id\" class=\"activity-card\" \n\t\t\t:style=\"{ animationDelay: `${index * 0.05}s` }\">\n\t\t\t\n\t\t\t<!-- 状态标签 -->\n\t\t\t<view class=\"activity-status \">\n\t\t\t\t{{ item.status }}\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 活动信息 -->\n\t\t\t<view class=\"activity-info\">\n\t\t\t\t<view class=\"activity-image\">\n\t\t\t\t\t<image \n\t\t\t\t\t\t:src=\"item.imageUrls[0] || '/static/images/default-activity.png'\" \n\t\t\t\t\t\tmode=\"aspectFill\"\n\t\t\t\t\t\t@load=\"onImageLoad(index)\"\n\t\t\t\t\t\t:class=\"{ loaded: imageLoaded[index] }\"\n\t\t\t\t\t/>\n\t\t\t\t\t<view v-if=\"!item.imageUrls[0]\" class=\"image-placeholder\">\n\t\t\t\t\t\t<uni-icons type=\"image\" size=\"40\" color=\"#c0c4cc\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"activity-content\">\n\t\t\t\t\t<view class=\"activity-header\">\n\t\t\t\t\t\t<text class=\"activity-title\">{{ item.name }}</text>\n\t\t\t\t\t\t<view class=\"activity-type\">{{ item.activityType }}</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"activity-time\">\n\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"16\" color=\"#999\"></uni-icons>\n\t\t\t\t\t\t<text class=\"time-text\">\n\t\t\t\t\t\t\t{{ formatTime(item.startTime, 'YYYY.MM.DD hh:mm') }} - \n\t\t\t\t\t\t\t{{ formatTime(item.endTime, 'hh:mm') }}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view v-if=\"item.location\" class=\"activity-location\">\n\t\t\t\t\t\t<uni-icons type=\"location\" size=\"16\" color=\"#999\"></uni-icons>\n\t\t\t\t\t\t<text class=\"location-text\">{{ item.location }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 操作按钮 -->\n\t\t\t<view class=\"activity-actions\">\n\t\t\t\t<button class=\"btn-detail\" @click=\"handleViewDetail(item.id)\">\n\t\t\t\t\t<uni-icons type=\"eye\" size=\"18\"></uni-icons>\n\t\t\t\t\t查看详情\n\t\t\t\t</button>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 分割线 -->\n\t\t\t<view v-if=\"index < activityList.length - 1\" class=\"divider\"></view>\n\t\t</view>\n\t\t\n\t\t<!-- 空状态 -->\n\t\t<view v-if=\"activityList.length === 0\" class=\"empty-state\">\n\t\t\t<image src=\"/static/images/empty-review.svg\" class=\"empty-image\" />\n\t\t\t<text class=\"empty-text\">暂无待审核活动</text>\n\t\t\t<text class=\"empty-tip\">所有活动审核已完成</text>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\n\timport {\n\t\tref\n\t} from 'vue';\r\n\timport { onShow } from '@dcloudio/uni-app'\n\timport {\n\t\tapiActivityReviewList\n\t} from '@/api/activity/index.js'\n\timport formatTime from '@/utils/dateUtil.js'\n\n\tconst activityList = ref([])\n\tconst imageLoaded = ref({})\r\n\tconst userId = uni.getStorageSync('userInfo').id\r\n\t\n\tasync function getActivityReviewList() {\n\t\ttry {\n\t\t\tconst res = await apiActivityReviewList()\n\t\t\tif (res.code === 200) {\n\t\t\t\tactivityList.value = res.data.page.records\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('获取活动列表失败:', error)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '加载失败',\n\t\t\t\ticon: 'error'\n\t\t\t})\n\t\t}\n\t}\n\n\tfunction handleViewDetail(activityId) {\n\t\tuni.navigateTo({\r\n\t\t\turl:`/pages/activity/activityDetail/activityDetail?id=${activityId}`\r\n\t\t})\n\t}\n\n\tfunction onImageLoad(index) {\n\t\timageLoaded.value[index] = true\n\t}\n\n\tonShow(() => {\n\t\tgetActivityReviewList()\n\t})\n</script>\n\n<style lang=\"scss\" scoped>\n\t.club-review {\n\t\tpadding: 32rpx;\n\t\tbackground: linear-gradient(180deg, #f5f7fa 0%, #f0f2f5 100%);\n\t\tmin-height: 100vh;\n\t}\n\n\t.activity-card {\n\t\tposition: relative;\n\t\tbackground: #ffffff;\n\t\tborder-radius: 24rpx;\n\t\tpadding: 40rpx;\n\t\tmargin-bottom: 32rpx;\n\t\tbox-shadow: 0 8rpx 40rpx rgba(0, 0, 0, 0.08);\n\t\tborder: 1px solid rgba(255, 255, 255, 0.2);\n\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\t\toverflow: hidden;\n\t\tanimation: slideInUp 0.5s ease-out forwards;\n\t\topacity: 0;\n\n\t\t&:hover {\n\t\t\ttransform: translateY(-4rpx);\n\t\t\tbox-shadow: 0 16rpx 48rpx rgba(0, 0, 0, 0.12);\n\t\t}\n\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\theight: 6rpx;\n\t\t\tbackground: linear-gradient(90deg, #3498db, #2ecc71);\n\t\t\topacity: 0.8;\n\t\t}\n\t}\n\n\t.activity-status {\n\t\tposition: absolute;\n\t\ttop: 24rpx;\n\t\tright: 24rpx;\n\t\tpadding: 6rpx 20rpx;\n\t\tborder-radius: 20rpx;\n\t\tfont-size: 22rpx;\n\t\tfont-weight: 600;\n\t\tletter-spacing: 0.5rpx;\n\t\tz-index: 2;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\r\n\t\tbackground: linear-gradient(135deg, #ff9500, #ffaa33);\r\n\t\tcolor: #fff;\n\t}\n\n\t.activity-info {\n\t\tdisplay: flex;\n\t\tgap: 32rpx;\n\t\tmargin-bottom: 40rpx;\n\n\t\t.activity-image {\n\t\t\tflex-shrink: 0;\n\t\t\twidth: 280rpx;\n\t\t\theight: 200rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\toverflow: hidden;\n\t\t\tposition: relative;\n\t\t\tbackground: linear-gradient(135deg, #f8f9fa, #e9ecef);\n\t\t\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.1);\n\n\t\t\timage {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tobject-fit: cover;\n\t\t\t\ttransition: transform 0.6s ease;\n\t\t\t\topacity: 0;\n\n\t\t\t\t&.loaded {\n\t\t\t\t\topacity: 1;\n\t\t\t\t\tanimation: fadeIn 0.5s ease-out;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.image-placeholder {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tbackground: linear-gradient(135deg, #f8f9fa, #e9ecef);\n\t\t\t}\n\t\t}\n\n\t\t.activity-content {\n\t\t\tflex: 1;\n\t\t\tmin-width: 0;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 16rpx;\n\n\t\t\t.activity-header {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: flex-start;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tgap: 16rpx;\n\n\t\t\t\t.activity-title {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tfont-size: 36rpx;\n\t\t\t\t\tfont-weight: 700;\n\t\t\t\t\tcolor: #1a1a1a;\n\t\t\t\t\tline-height: 1.4;\n\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t}\n\n\t\t\t\t.activity-type {\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t\tpadding: 6rpx 20rpx;\n\t\t\t\t\tbackground: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(52, 152, 219, 0.2));\n\t\t\t\t\tcolor: #3498db;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tborder-radius: 12rpx;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.activity-time,\n\t\t\t.activity-location {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tgap: 12rpx;\n\t\t\t\tfont-size: 26rpx;\n\t\t\t\tcolor: #666;\n\n\t\t\t\t.time-text,\n\t\t\t\t.location-text {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tline-height: 1.4;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.activity-footer {\n\t\t\t\tmargin-top: auto;\n\t\t\t\tpadding-top: 16rpx;\n\t\t\t\tborder-top: 1px solid #eee;\n\n\t\t\t\t.participant-count {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tgap: 8rpx;\n\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\tcolor: #666;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.activity-actions {\n\t\tdisplay: flex;\n\t\tgap: 24rpx;\n\t\tpadding-top: 32rpx;\n\t\tborder-top: 1px solid #f0f0f0;\n\n\t\tbutton {\n\t\t\tflex: 1;\n\t\t\theight: 80rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tgap: 12rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\tfont-size: 28rpx;\n\t\t\tfont-weight: 600;\n\t\t\ttransition: all 0.3s ease;\n\t\t\tborder: none;\n\t\t\tposition: relative;\n\t\t\toverflow: hidden;\n\n\t\t\t&::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t&.btn-detail {\n\t\t\t\tbackground: linear-gradient(135deg, #f8f9fa, #e9ecef);\n\t\t\t\tcolor: #666;\n\t\t\t\tborder: 2rpx solid #e0e0e0;\n\n\t\t\t\t&:active {\n\t\t\t\t\tbackground: linear-gradient(135deg, #e9ecef, #dee2e6);\n\t\t\t\t\ttransform: scale(0.98);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.btn-review {\n\t\t\t\tbackground: linear-gradient(135deg, #3498db, #2980b9);\n\t\t\t\tcolor: #fff;\n\t\t\t\tbox-shadow: 0 8rpx 24rpx rgba(52, 152, 219, 0.3);\n\n\t\t\t\t&:active {\n\t\t\t\t\tbackground: linear-gradient(135deg, #2980b9, #2573a7);\n\t\t\t\t\ttransform: scale(0.98);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.divider {\n\t\theight: 1px;\n\t\tbackground: linear-gradient(90deg, transparent, #e0e0e0, transparent);\n\t\tmargin: 40rpx -40rpx 0;\n\t}\n\n\t.empty-state {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 120rpx 40rpx;\n\t\ttext-align: center;\n\n\t\t.empty-image {\n\t\t\twidth: 300rpx;\n\t\t\theight: 300rpx;\n\t\t\topacity: 0.6;\n\t\t\tmargin-bottom: 40rpx;\n\t\t}\n\n\t\t.empty-text {\n\t\t\tfont-size: 32rpx;\n\t\t\tcolor: #666;\n\t\t\tfont-weight: 600;\n\t\t\tmargin-bottom: 16rpx;\n\t\t}\n\n\t\t.empty-tip {\n\t\t\tfont-size: 26rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\n\t@keyframes slideInUp {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translateY(40rpx);\n\t\t}\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translateY(0);\n\t\t}\n\t}\n\n\n\t/* 响应式设计 */\n\t@media (max-width: 768px) {\n\t\t.club-review {\n\t\t\tpadding: 24rpx;\n\t\t}\n\n\t\t.activity-card {\n\t\t\tpadding: 32rpx;\n\t\t}\n\n\t\t.activity-info {\n\t\t\tflex-direction: column;\n\t\t\tgap: 24rpx;\n\n\t\t\t.activity-image {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 300rpx;\n\t\t\t}\n\t\t}\n\n\t\t.activity-actions {\n\t\t\tflex-direction: column;\n\n\t\t\tbutton {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n\n</style>","import MiniProgramPage from 'C:/Users/House/Desktop/graduation-project/campus_activity/pages/user/clubReview/clubReview.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","apiActivityReviewList","onShow"],"mappings":";;;;;;;;;;;;;;;;AA6EC,UAAM,eAAeA,cAAG,IAAC,EAAE;AAC3B,UAAM,cAAcA,cAAG,IAAC,EAAE;AACXC,wBAAI,eAAe,UAAU,EAAE;AAE9C,mBAAe,wBAAwB;AACtC,UAAI;AACH,cAAM,MAAM,MAAMC,yCAAuB;AACzC,YAAI,IAAI,SAAS,KAAK;AACrB,uBAAa,QAAQ,IAAI,KAAK,KAAK;AAAA,QACnC;AAAA,MACD,SAAQ,OAAO;AACfD,sBAAAA,MAAc,MAAA,SAAA,8CAAA,aAAa,KAAK;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AAAA,MACD;AAAA,IACD;AAED,aAAS,iBAAiB,YAAY;AACrCA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAI,oDAAoD,UAAU;AAAA,MACrE,CAAG;AAAA,IACD;AAED,aAAS,YAAY,OAAO;AAC3B,kBAAY,MAAM,KAAK,IAAI;AAAA,IAC3B;AAEDE,kBAAAA,OAAO,MAAM;AACZ,4BAAuB;AAAA,IACzB,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3GF,GAAG,WAAW,eAAe;"}