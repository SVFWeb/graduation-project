{"version":3,"file":"myActivity.js","sources":["pages/user/myActivity/myActivity.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9teUFjdGl2aXR5L215QWN0aXZpdHkudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"registration container\">\r\n\t\t<view class=\"registration_search\">\r\n\t\t\t<com-search v-model:value=\"searchValue\" @click=\"onSearch\"></com-search>\r\n\t\t</view>\r\n\t\t<view class=\"registration_filter\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<view v-for=\"tab in tabs\" :key=\"tab.value\" class=\"btn\" :class=\"{ active: activeTab === tab.value }\"\r\n\t\t\t\t\t@click=\"OnChangeActiveTab(tab.value)\">\r\n\t\t\t\t\t{{ tab.label }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t\t<view class=\"registration_activity_list\">\r\n\t\t\t<view v-if=\"activeTab==='participated'\">\r\n\t\t\t\t<com-activity-item v-for=\"item in activity_participated\" :key=\"item.id\" :activeInfo=\"item\">\r\n\t\t\t\t</com-activity-item>\r\n\t\t\t</view>\r\n\t\t\t<view v-else>\r\n\t\t\t\t<com-activity-item-managed v-for=\"item in activity_managed\" :key=\"item.id\" :activeInfo=\"item\"\r\n\t\t\t\t\t@updataActivityList=\"getJoinOrManangeActivityList\">\r\n\t\t\t\t</com-activity-item-managed>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport comSearch from '@/components/com-search/com-search.vue';\r\n\timport comActivityItem from './components/com-activity-item/com-activity-item.vue';\r\n\timport comActivityItemManaged from './components/com-activity-item-managed/com-activity-item-managed.vue';\r\n\timport {\r\n\t\tref\r\n\t} from 'vue'\r\n\timport {\r\n\t\tonShow\r\n\t} from '@dcloudio/uni-app'\r\n\timport {\r\n\t\tapiGetJoinOrManangeActivity\r\n\t} from '@/api/activity/index.js'\r\n\r\n\tconst searchValue = ref('')\r\n\tconst activeTab = ref('participated')\r\n\tconst userId = uni.getStorageSync('userInfo').id\r\n\tconst activity_participated = ref([])\r\n\tconst activity_managed = ref([])\r\n\r\n\tconst tabs = [{\r\n\t\t\tlabel: '参与',\r\n\t\t\tvalue: 'participated'\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: '管理',\r\n\t\t\tvalue: 'managed'\r\n\t\t}\r\n\t]\r\n\r\n\tfunction onSearch() {\r\n\t\tgetJoinOrManangeActivityList()\r\n\t}\r\n\r\n\tfunction OnChangeActiveTab(tab) {\r\n\t\tactiveTab.value = tab\r\n\t\tgetJoinOrManangeActivityList()\r\n\t}\r\n\r\n\r\n\tasync function getJoinOrManangeActivityList() {\r\n\t\tlet res = await apiGetJoinOrManangeActivity({\r\n\t\t\tid: userId,\r\n\t\t\ttype: activeTab.value,\r\n\t\t\tkeyword: searchValue.value\r\n\t\t})\r\n\t\tif (res.code == 200) {\r\n\t\t\tlet {\r\n\t\t\t\tactivities\r\n\t\t\t} = res.data\r\n\r\n\t\t\tactiveTab.value === 'participated' ? activity_participated.value = activities : activity_managed.value =\r\n\t\t\t\tactivities\r\n\t\t}\r\n\t}\r\n\r\n\tonShow(() => {\r\n\t\tgetJoinOrManangeActivityList()\r\n\t})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.registration {\r\n\t\tpadding: 24rpx 32rpx;\r\n\t\tpadding-bottom: calc(120rpx + env(safe-area-inset-bottom));\r\n\t\tmin-height: 100vh;\r\n\t\tbackground: linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);\r\n\r\n\t\t.registration_search {\r\n\t\t\tmargin-bottom: 40rpx;\r\n\t\t\tbox-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.04);\r\n\t\t\tborder-radius: 16rpx;\r\n\t\t\toverflow: hidden;\r\n\t\t}\r\n\r\n\t\t.registration_filter {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-bottom: 40rpx;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t&::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\theight: 2rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg,\r\n\t\t\t\t\t\trgba($uni-topic-color, 0.1) 0%,\r\n\t\t\t\t\t\trgba($uni-topic-color, 0.3) 50%,\r\n\t\t\t\t\t\trgba($uni-topic-color, 0.1) 100%);\r\n\t\t\t}\r\n\r\n\t\t\t.left {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tgap: 20rpx;\r\n\t\t\t\toverflow-x: auto;\r\n\t\t\t\tpadding-bottom: 8rpx;\r\n\t\t\t\tscrollbar-width: none;\r\n\r\n\t\t\t\t&::-webkit-scrollbar {\r\n\t\t\t\t\tdisplay: none;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.btn {\r\n\t\t\t\t\tpadding: 0 32rpx;\r\n\t\t\t\t\theight: 64rpx;\r\n\t\t\t\t\tmin-width: 120rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tborder: 2rpx solid #e0e0e0;\r\n\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\tbackground: #ffffff;\r\n\t\t\t\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.active {\r\n\t\t\t\t\tbackground: linear-gradient(135deg,\r\n\t\t\t\t\t\t\tlighten($uni-topic-color, 5%) 0%,\r\n\t\t\t\t\t\t\t$uni-topic-color 100%);\r\n\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\tbox-shadow: 0 6rpx 20rpx rgba($uni-topic-color, 0.25);\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t\tmargin-left: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/House/Desktop/graduation-project/campus_activity/pages/user/myActivity/myActivity.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","apiGetJoinOrManangeActivity","onShow"],"mappings":";;;;;;AA8BC,MAAM,YAAY,MAAW;AAC7B,MAAM,kBAAkB,MAAW;AACnC,MAAM,yBAAyB,MAAW;;;;AAW1C,UAAM,cAAcA,cAAG,IAAC,EAAE;AAC1B,UAAM,YAAYA,cAAG,IAAC,cAAc;AACpC,UAAM,SAASC,cAAG,MAAC,eAAe,UAAU,EAAE;AAC9C,UAAM,wBAAwBD,cAAG,IAAC,EAAE;AACpC,UAAM,mBAAmBA,cAAG,IAAC,EAAE;AAE/B,UAAM,OAAO;AAAA,MAAC;AAAA,QACZ,OAAO;AAAA,QACP,OAAO;AAAA,MACP;AAAA,MACD;AAAA,QACC,OAAO;AAAA,QACP,OAAO;AAAA,MACP;AAAA,IACD;AAED,aAAS,WAAW;AACnB,mCAA8B;AAAA,IAC9B;AAED,aAAS,kBAAkB,KAAK;AAC/B,gBAAU,QAAQ;AAClB,mCAA8B;AAAA,IAC9B;AAGD,mBAAe,+BAA+B;AAC7C,UAAI,MAAM,MAAME,+CAA4B;AAAA,QAC3C,IAAI;AAAA,QACJ,MAAM,UAAU;AAAA,QAChB,SAAS,YAAY;AAAA,MACxB,CAAG;AACD,UAAI,IAAI,QAAQ,KAAK;AACpB,YAAI;AAAA,UACH;AAAA,QACA,IAAG,IAAI;AAER,kBAAU,UAAU,iBAAiB,sBAAsB,QAAQ,aAAa,iBAAiB,QAChG;AAAA,MACD;AAAA,IACD;AAEDC,kBAAAA,OAAO,MAAM;AACZ,mCAA8B;AAAA,IAChC,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtFF,GAAG,WAAW,eAAe;"}