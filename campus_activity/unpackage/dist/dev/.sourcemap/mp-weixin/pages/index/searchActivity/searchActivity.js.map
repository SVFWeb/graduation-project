{"version":3,"file":"searchActivity.js","sources":["pages/index/searchActivity/searchActivity.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvc2VhcmNoQWN0aXZpdHkvc2VhcmNoQWN0aXZpdHkudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"com-search-activity_container\">\r\n\r\n\t\t<view class=\"search-activity\">\r\n\t\t\t<com-search v-model:value=\"searchValue\" @click=\"onSearch\"></com-search>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"activity_history\">\r\n\t\t\t<view class=\"title\" v-if=\"!isShowSearchHistory\">\r\n\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t历史搜索\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\" @click=\"onClear\">\r\n\t\t\t\t\t清空\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"history_list\">\r\n\t\t\t\t<view class=\"history_item\" v-for=\"(item,index) in searchHistory\" :key=\"item+index\"\r\n\t\t\t\t\t@click=\"onClickHistory(item)\">\r\n\t\t\t\t\t{{item}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"search-activity_list\">\r\n\t\t\t<com-activity-item v-for=\"item in activityList.length\" :key=\"item\"></com-activity-item>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tcomputed,\r\n\t\tonMounted,\r\n\t\tref\r\n\t} from 'vue'\r\n\timport comSearch from '@/components/com-search/com-search.vue';\r\n\timport comActivityItem from '@/components/com-activity-item/com-activity-item.vue';\r\n\r\n\tconst searchValue = ref('')\r\n\tconst searchHistory = ref(uni.getStorageSync('searchHistory') || [])\r\n\tconst activityList = ref([])\r\n\r\n\tconst isShowSearchHistory = computed(() => searchHistory.value.length === 0)\r\n\r\n\tfunction onSearch() {\r\n\t\tif(searchValue.value=='') return \r\n\t\tsearchHistory.value.unshift(searchValue.value)\r\n\t\tsearchHistory.value = [...new Set(searchHistory.value)]\r\n\t\tif (searchHistory.value.length > 10) {\r\n\t\t\tsearchHistory.value.pop()\r\n\t\t}\r\n\t\tuni.setStorageSync('searchHistory', searchHistory.value)\r\n\t\t// 模拟获取数据\r\n\t\tactivityList.value = [1, 2, 3]\r\n\t}\r\n\r\n\tfunction onClear() {\r\n\t\tsearchHistory.value = []\r\n\t\tuni.clearStorageSync('searchHistory')\r\n\t}\r\n\r\n\tfunction onClickHistory(item) {\r\n\t\tsearchValue.value = item\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.com-search-activity_container {\r\n\t\tpadding: 20rpx 24rpx;\r\n\t\tmin-height: 100vh;\r\n\r\n\t\t.search-activity {\r\n\t\t\tmargin-bottom: 50rpx;\r\n\t\t}\r\n\r\n\t\t.activity_history {\r\n\r\n\t\t\t.title {\r\n\t\t\t\tmargin-bottom: 50rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tfont-size: 16px;\r\n\r\n\t\t\t\t.left {\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.right {\r\n\t\t\t\t\tcolor: $uni-topic-color;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.history_list {\r\n\t\t\t\t.history_item {\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tmargin: 0 20rpx 20rpx 0;\r\n\t\t\t\t\tpadding: 10rpx 30rpx;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tline-height: 40rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tbackground-color: #F0F0F0;\r\n\t\t\t\t\tborder-radius: 15rpx;\r\n\t\t\t\t\tbox-sizing: content-box;\r\n\t\t\t\t\tfont-size: 25rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t.search-activity_list {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/House/Desktop/graduation-project/campus_activity/pages/index/searchActivity/searchActivity.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","computed"],"mappings":";;;;;AAsCC,MAAM,YAAY,MAAW;AAC7B,MAAM,kBAAkB,MAAW;;;;AAEnC,UAAM,cAAcA,cAAG,IAAC,EAAE;AAC1B,UAAM,gBAAgBA,cAAAA,IAAIC,cAAAA,MAAI,eAAe,eAAe,KAAK,EAAE;AACnE,UAAM,eAAeD,cAAG,IAAC,EAAE;AAE3B,UAAM,sBAAsBE,cAAAA,SAAS,MAAM,cAAc,MAAM,WAAW,CAAC;AAE3E,aAAS,WAAW;AACnB,UAAG,YAAY,SAAO;AAAI;AAC1B,oBAAc,MAAM,QAAQ,YAAY,KAAK;AAC7C,oBAAc,QAAQ,CAAC,GAAG,IAAI,IAAI,cAAc,KAAK,CAAC;AACtD,UAAI,cAAc,MAAM,SAAS,IAAI;AACpC,sBAAc,MAAM,IAAK;AAAA,MACzB;AACDD,oBAAAA,MAAI,eAAe,iBAAiB,cAAc,KAAK;AAEvD,mBAAa,QAAQ,CAAC,GAAG,GAAG,CAAC;AAAA,IAC7B;AAED,aAAS,UAAU;AAClB,oBAAc,QAAQ,CAAE;AACxBA,oBAAG,MAAC,iBAAiB,eAAe;AAAA,IACpC;AAED,aAAS,eAAe,MAAM;AAC7B,kBAAY,QAAQ;AAAA,IACpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjEF,GAAG,WAAW,eAAe;"}